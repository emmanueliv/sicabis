<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

    <ui:composition template="/templates/main.xhtml">
        <ui:define name="content">
            <c:if test="${loginBean.accesos.proveedores}">
                <div id="contenido">
                    <h:form id="breadCrumb">
                        <p:breadCrumb>
                            <p:menuitem value="Inicio" url="../../menuInicio.xhtml" />
                            <p:menuitem value="Catálogos" url="../menuCatalogos.xhtml" />
                            <p:menuitem value="Proveedores" url="proveedores.xhtml" />
                            <p:menuitem value="Detalle del proveedor" url="proveedores.xhtml" disabled="true"/>
                        </p:breadCrumb>
                    </h:form>
                    <h2>Detalle del proveedor</h2>
                    <br></br>

                    <br></br>
                    <h:form id="frmbDetProv">
                        <p:messages id="idmessages" showDetail="false" autoUpdate="true" closable="true"/>
                        <h3>Datos proveedor</h3>
                        <br/>
                        <b:panelGrid colSpans="2,4,2,4" id="datosProveedor">
                            <h:outputText value="Nombre del proveedor:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.nombreProveedor}" 
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                            <h:outputText value="Número proveedor:" />
                            <p:inputNumber value="#{detalleProveedoresBean.proveedor.numeroProveedor}" decimalPlaces="0" minValue="0" thousandSeparator=""
                                           inputStyle="width: 100%; height: 34px;">
                                <p:ajax event="blur" process="@this" update="@this, idmessages" listener="#{detalleProveedoresBean.validaNumeroProveedor}" />
                            </p:inputNumber>

                            <h:outputText value="RFC:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.rfc}" 
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                            <h:outputText value="Razón Social"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.razonSocial}" 
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>

                            <h:outputText value="No rupa:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.noRupa}" 
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                            <h:outputText value="Tipo de proveedor:"/>
                            <p:selectOneMenu id="selectTipoProv" value="#{detalleProveedoresBean.proveedor.idTipoProveedor}" 
                                             style="width: 100%; height: 34px;" converter="selectConverter">
                                <f:selectItem itemLabel="Seleciona..." itemValue=""/>
                                <f:selectItems value="#{proveedoresBean.tipoProveedoresList}" var="tipoProv" 
                                               itemValue="#{tipoProv}" itemLabel="#{tipoProv.descripcion}"/>
                            </p:selectOneMenu>

                            <h:outputText value="Correo:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.correo}" 
                                         validator-message="El formato del campo Correo electrónico es incorrecto" />
                            <h:outputText value=""/>
                            <h:outputText value=""/>
                        </b:panelGrid>
                        <h3>Dirección</h3>
                        <br/>
                        <b:panelGrid colSpans="2,4,2,4" id="dirProveedor">
                            <h:outputText value="Calle:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.calle}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                            <h:outputText value="Colonia:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.colonia}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>

                            <h:outputText value="C.P.:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.cp}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                            <h:outputText value="Delegación:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.delegacion}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>

                            <h:outputText value="Ciudad:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.ciudad}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                            <h:outputText value="Localidad:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.localidad}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>

                            <h:outputText value="Teléfono:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.telefono2}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                            <h:outputText value="Teléfono:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.telefono3}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>

                            <h:outputText value="Fax:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.fax1}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                            <h:outputText value="Fax:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.fax2}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>

                            <h:outputText value="Fax:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.fax1}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                            <h:outputText value="Fax:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.fax2}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                        </b:panelGrid>
                        <div class="ui-fluid">
                            <b:panelGrid id="notific" columns="2" columnClasses="ui-grid-col-2,ui-grid-col-10" styleClass="ui-panelgrid-blank">
                                <h:outputText value="Notificaciones:"/>
                                <p:inputTextarea value="#{detalleProveedoresBean.proveedor.notificaciones}" />
                                <h:outputText value="Observaciones:"/>
                                <p:inputTextarea value="#{detalleProveedoresBean.proveedor.observaciones}" />
                            </b:panelGrid>
                        </div>
                        <h3>Giro</h3>
                        <br/>
                        <b:panelGrid colSpans="2,4,2,4" id="giroProveedor">
                            <h:outputText value="Giro:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.giro}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                            <h:outputText value="Descripción:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.giroDescripcion}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                        </b:panelGrid>
                        <h3>Representante legal</h3>
                        <br/>
                        <b:panelGrid colSpans="2,4,2,4" id="repLegalProveedor">
                            <h:outputText value="Representante:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.representante}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                            <h:outputText value="Correo electrónico:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.repCorreoElectronico}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>

                            <h:outputText value="Número del acta o Escritura:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.repNumActaEscritura}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                            <h:outputText value="Fecha del acta:"/>
                            <p:calendar id="repFecActa" mask="true" showOn="button" 
                                        value="#{detalleProveedoresBean.proveedor.repFechaActa}" pattern="dd/MM/yyyy" />

                            <h:outputText value="Número de la notaria:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.repNumNotaria}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                            <h:outputText value="Nombre del notario o corredor que expide el acta o escritura:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.repNombreNotario}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>

                            <h:outputText value="Sintesis del acta o escritura:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.repSintesisActa}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                            <h:outputText value=""/>
                            <h:outputText value=""/>
                        </b:panelGrid>
                        <h3>Acta constitutiva</h3>
                        <br/>
                        <b:panelGrid colSpans="2,4,2,4" id="actaProveedor">
                            <h:outputText value="Número del acta o Escritura:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.numActaEscritura}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                            <h:outputText value="Fecha del acta:"/>
                            <p:calendar id="fecActa" mask="true" showOn="button" 
                                        value="#{detalleProveedoresBean.proveedor.fechaActa}" pattern="dd/MM/yyyy" />

                            <h:outputText value="Número de la notaria:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.numNotaria}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                            <h:outputText value="Nombre del notario o corredor que expide el acta o escritura:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.nombreNotario}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>

                            <h:outputText value="Sintesis del acta o escritura:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.sintesisActa}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                            <h:outputText value="Vigencia de la sociedad:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.vigenciaSociedad}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>

                            <h:outputText value="Objeto de la empresa:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.objetoEmpresa}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                            <h:outputText value=""/>
                            <h:outputText value=""/>
                        </b:panelGrid>
                        <h3>Reforma a los estatutos</h3>
                        <br/>
                        <b:panelGrid colSpans="2,4,2,4" id="reformaProveedor">
                            <h:outputText value="Número del acta o Escritura:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.reformaNumActa}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                            <h:outputText value="Fecha del acta:"/>
                            <p:calendar id="reformaFechaActa" mask="true" showOn="button" 
                                        value="#{detalleProveedoresBean.proveedor.reformaFechaActa}" pattern="dd/MM/yyyy" />

                            <h:outputText value="Número de la notaria:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.reformaNumNotaria}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                            <h:outputText value="Nombre del notario o corredor que expide el acta o escritura:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.reformaNombreNotario}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>

                            <h:outputText value="Sintesis del acta o escritura:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.reformaSintesisActa}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                            <h:outputText value=""/>
                            <h:outputText value=""/>
                        </b:panelGrid>
                        <h3>MIPYMES</h3>
                        <br/>
                        <b:panelGrid colSpans="2,4,6" id="pymesProveedor">
                            <h:outputText value="MIPYMES:"/>
                            <p:selectOneRadio id="mipymes" value="#{detalleProveedoresBean.proveedor.mipymes}" columns="1" layout="grid" >
                                <f:selectItem itemLabel="Si" itemValue="1"/>
                                <f:selectItem itemLabel="No" itemValue="0"/>
                            </p:selectOneRadio>
                            <h:outputText value=""/>

                            <h:outputText value="Dar la opción para seleccionar alguna de las siguientes clasificaciones:"/>
                            <p:selectOneRadio id="clasif" value="#{detalleProveedoresBean.proveedor.micro}" columns="1" layout="grid" >
                                <f:selectItem itemLabel="Micro" itemValue="0"/>
                                <f:selectItem itemLabel="Pequeña" itemValue="1"/>
                                <f:selectItem itemLabel="Mediana" itemValue="2"/>
                            </p:selectOneRadio>
                            <h:outputText value=""/>

                            <h:outputText value="Tope máximo combinado:"/>
                            <b:inputText value="#{detalleProveedoresBean.proveedor.topeMaximo}"
                                         style="text-transform: uppercase" onblur="value = value.toUpperCase()"/>
                            <h:outputText value=""/>
                        </b:panelGrid>
                        <p:separator/>

                        <div style="display:block; text-align:right">
                            <b:buttonGroup>
                                <b:commandButton value="Actualizar" icon="floppy-disk" iconAlign="right" look="primary" update="idmessages"
                                                 actionListener="#{detalleProveedoresBean.guardarProveedor}"  ajax="true"
                                                 process="datosProveedor,dirProveedor,notific,giroProveedor,repLegalProveedor,actaProveedor,reformaProveedor,pymesProveedor"
                                                 rendered="#{!loginBean.accesos.proveedoresC}"/>
                            </b:buttonGroup>
                        </div>
                        <br/>
                    </h:form>
                </div>
            </c:if>
            <c:if test="${!loginBean.accesos.proveedores}">
                <h:form id="formlogin">
                    <b:panel styleClass="panel-central" style="width: 430px; height: 40%; padding-top: 15px;" >
                        <h:panelGrid columns="1" styleClass="panel-central">
                            <h:outputLabel value="No tienes acceso a este módulo" style="padding-right: 10px" />
                        </h:panelGrid>
                    </b:panel>
                </h:form>
            </c:if>
        </ui:define>
    </ui:composition>
</html>